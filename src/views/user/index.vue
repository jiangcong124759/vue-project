<template>
  <div class="user">
    <div class="flex__container">
      <div ref="flexitem" class="flex__item">
        <div class="sub_div">
          <div ref="music"  class="music_icon">
            <svg t="1598759352182" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1271" width="48" height="48"><path d="M711.609937 460.201768c-24.721516-19.235032-29.167832-54.870232-9.9328-79.591747 19.235032-24.721516 54.870232-29.167832 79.591747-9.92741a56.605642 56.605642 0 0 1 21.875874 43.794863l13.473684-17.418779c-32.277558-68.624168-83.5584-126.485558-147.057179-166.912l-60.588463 78.33061-0.005389-0.005389c-19.235032 24.721516-54.870232 29.167832-79.591748 9.9328-24.721516-19.235032-29.167832-54.870232-9.9328-79.586358 19.235032-24.721516 54.870232-29.167832 79.591748-9.9328a56.605642 56.605642 0 0 1 21.865094 43.185853l37.828716-48.613053c-59.413558-35.209432-128.722189-55.490021-202.795116-55.490021-220.046821 0-398.433011 178.3808-398.43301 398.43301 0 220.046821 178.386189 398.433011 398.43301 398.433011s398.433011-178.386189 398.433011-398.433011c0-55.473853-11.361011-108.279916-31.8464-156.267789l-31.329011 40.146189c-19.224253 24.710737-54.859453 29.157053-79.580968 9.922021z m-414.590653 106.19419c0-87.772968 71.151832-158.9248 158.9248-158.9248s158.9248 71.151832 158.9248 158.9248-71.151832 158.9248-158.9248 158.9248-158.9248-71.157221-158.9248-158.9248z m265.582484 310.88101a333.338947 333.338947 0 0 1-9.970526 3.664843 9.205221 9.205221 0 0 1-11.716716-5.642779 9.194442 9.194442 0 0 1 5.642779-11.716716 296.636632 296.636632 0 0 0 9.404632-3.460042 9.199832 9.199832 0 0 1 6.639831 17.154694z m182.385179-176.510652a322.015663 322.015663 0 0 1-74.310063 107.757137 329.118989 329.118989 0 0 1-28.866021 24.608336 328.779453 328.779453 0 0 1-35.619031 23.460379 9.183663 9.183663 0 0 1-12.535916-3.449263 9.189053 9.189053 0 0 1 3.443873-12.535916 310.126484 310.126484 0 0 0 33.614148-22.139957 310.832505 310.832505 0 0 0 27.2384-23.217853 303.750737 303.750737 0 0 0 70.090105-101.634695 9.210611 9.210611 0 0 1 12.045474-4.888252 9.183663 9.183663 0 0 1 4.899031 12.040084z" fill="#0D3F70" p-id="1272"></path><path d="M455.944084 629.129432c-34.648926 0-62.733474-28.089937-62.733473-62.733474 0 34.643537 28.084547 62.733474 62.733473 62.733474s62.733474-28.089937 62.733474-62.733474c0 34.643537-28.089937 62.733474-62.733474 62.733474z" fill="#0D3F70" p-id="1273"></path><path d="M614.868884 566.395958c0-87.772968-71.151832-158.9248-158.9248-158.9248s-158.9248 71.151832-158.9248 158.9248 71.151832 158.9248 158.9248 158.9248 158.9248-71.157221 158.9248-158.9248z m-96.191326 0c0 34.648926-28.084547 62.733474-62.733474 62.733474s-62.733474-28.089937-62.733473-62.733474c0-34.648926 28.084547-62.733474 62.733473-62.733474s62.733474 28.084547 62.733474 62.733474z" fill="#D34D5B" p-id="1274"></path><path d="M455.944084 503.662484c-34.648926 0-62.733474 28.084547-62.733473 62.733474 0 34.643537 28.084547 62.733474 62.733473 62.733474s62.733474-28.089937 62.733474-62.733474c0-34.648926-28.089937-62.733474-62.733474-62.733474z" fill="#FFFFFF" p-id="1275"></path><path d="M740.233432 60.841768l-1.999495-1.557557c0.673684 0.522779 1.3312 1.050947 1.988716 1.579115l0.010779-0.021558zM967.696168 207.888168a28.305516 28.305516 0 0 0-14.104252-19.111073l-0.059284-0.032337-168.884548-88.360421a28.224674 28.224674 0 0 0-35.958568 7.464421l-89.955705 115.60421-37.828716 48.613053a56.605642 56.605642 0 0 0-21.865095-43.185853c-24.721516-19.235032-60.356716-14.788716-79.591747 9.9328-19.235032 24.721516-14.788716 60.351326 9.9328 79.586358 24.721516 19.235032 60.356716 14.788716 79.591747-9.9328l0.005389 0.00539 60.588464-78.330611 70.305684-90.898863 197.858358 101.262821-121.101474 156.548042-13.473684 17.418779a56.594863 56.594863 0 0 0-21.875874-43.794863c-24.721516-19.235032-60.356716-14.788716-79.591747 9.927411-19.235032 24.721516-14.788716 60.356716 9.9328 79.591747 24.721516 19.235032 60.351326 14.788716 79.591747-9.9328l31.329011-40.14619 139.776-179.108378a28.316295 28.316295 0 0 0 5.378694-23.120843z" fill="#D34D5B" p-id="1276"></path></svg>
          </div>
            <div ref="player" class="player_div">
              <div class="last" @click="playLast">
                <svg t="1598712774329" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6727" width="48" height="48"><path d="M510.7 960.7c-247.1 0-448.1-201-448.1-448.1s201-448.1 448.1-448.1 448.1 201 448.1 448.1-201 448.1-448.1 448.1z m0-845.2c-219 0-397.1 178.1-397.1 397.1s178.1 397.1 397.1 397.1 397.1-178.1 397.1-397.1-178.2-397.1-397.1-397.1z" fill="#1C1C1C" p-id="6728"></path><path d="M488.8 530c-6.6 0-13.2-2.6-18.2-7.7-9.9-10.1-9.7-26.2 0.4-36.1L610.1 350c10-9.9 26.2-9.7 36.1 0.4 9.9 10.1 9.7 26.2-0.4 36.1L506.7 522.8c-5 4.8-11.4 7.2-17.9 7.2z" fill="#D8BA3D" p-id="6729"></path><path d="M623.7 669.1c-6.7 0-13.3-2.6-18.3-7.7L470.5 522.3c-9.8-10.1-9.6-26.3 0.5-36.1s26.3-9.6 36.1 0.5L642 625.9c9.8 10.1 9.6 26.3-0.5 36.1-5 4.7-11.4 7.1-17.8 7.1zM400.3 667.7c-14.1 0-25.5-11.4-25.5-25.5V369.6c0-14.1 11.4-25.5 25.5-25.5s25.5 11.4 25.5 25.5v272.6c0 14.1-11.4 25.5-25.5 25.5z" fill="#D8BA3D" p-id="6730"></path></svg>
              </div>
              <div class="paly_btn" @click="playOrStop">
                <svg v-if="show" t="1598712447655" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6023" width="48" height="48"><path d="M894.4 256c49.6 73.6 80 163.2 80 259.2 0 256-208 464-464 464s-464-208-464-464 208-464 464-464c73.6 0 144 17.6 206.4 48" fill="#FFF100" p-id="6024"></path><path d="M508.8 1011.2c-273.6 0-496-222.4-496-496s222.4-496 496-496c76.8 0 152 17.6 220.8 51.2 16 8 22.4 27.2 14.4 43.2-8 16-27.2 22.4-43.2 14.4-59.2-30.4-124.8-44.8-192-44.8-238.4 0-432 193.6-432 432s193.6 432 432 432 432-193.6 432-432c0-86.4-25.6-169.6-73.6-241.6-9.6-14.4-6.4-35.2 8-44.8 14.4-9.6 35.2-6.4 44.8 8C976 320 1004.8 416 1004.8 515.2c0 273.6-222.4 496-496 496z" fill="" p-id="6025"></path><path d="M819.2 168m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z" fill="" p-id="6026"></path><path d="M392 305.6l363.2 209.6-363.2 209.6z" fill="" p-id="6027"></path></svg>
                <svg v-if="!show" t="1598712464081" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6156" width="48" height="48"><path d="M511.501463 1023.000976C229.476878 1023.000976 0.000976 793.525073 0.000976 511.500488S229.476878 0 511.501463 0s511.500488 229.475902 511.500488 511.500488-229.475902 511.500488-511.500488 511.500488z m0-937.784196C276.431024 85.21678 85.217756 276.430049 85.217756 511.500488S276.431024 937.784195 511.501463 937.784195 937.785171 746.570927 937.785171 511.500488 746.571902 85.21678 511.501463 85.21678z" fill="#3688FF" p-id="6157"></path><path d="M394.315902 682.033951c-23.576976 0-42.658341-19.081366-42.658341-42.658341V383.625366c0-23.576976 19.081366-42.658341 42.658341-42.658342s42.658341 19.081366 42.658342 42.658342v255.750244c-0.099902 23.576976-19.181268 42.658341-42.658342 42.658341zM628.687024 682.033951c-23.576976 0-42.658341-19.081366-42.658341-42.658341V383.625366c0-23.576976 19.081366-42.658341 42.658341-42.658342S671.345366 360.04839 671.345366 383.625366v255.750244c0 23.576976-19.081366 42.658341-42.658342 42.658341z" fill="#5F6379" p-id="6158"></path></svg>
              </div>
              <div class="next" @click="playNext">
                <svg t="1598751273940" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9887" width="48" height="48"><path d="M62.5 512.6c0-247.1 201-448.1 448.1-448.1s448.1 201 448.1 448.1-201 448.1-448.1 448.1-448.1-201-448.1-448.1z m51 0c0 219 178.1 397.1 397.1 397.1s397.1-178.1 397.1-397.1-178.1-397.1-397-397.1-397.2 178.1-397.2 397.1z" fill="#1C1C1C" p-id="9888"></path><path d="M532.5 530c6.6 0 13.2-2.6 18.2-7.7 9.9-10.1 9.7-26.2-0.4-36.1L411.3 350c-10-9.9-26.2-9.7-36.1 0.4-9.9 10.1-9.7 26.2 0.4 36.1l139.1 136.3c4.9 4.8 11.4 7.2 17.8 7.2z" fill="#D8BA3D" p-id="9889"></path><path d="M397.6 669.1c6.7 0 13.3-2.6 18.3-7.7l134.9-139.1c9.8-10.1 9.6-26.3-0.5-36.1s-26.3-9.6-36.1 0.5L379.3 625.9c-9.8 10.1-9.6 26.3 0.5 36.1 5 4.7 11.4 7.1 17.8 7.1zM621 667.7c14.1 0 25.5-11.4 25.5-25.5V369.6c0-14.1-11.4-25.5-25.5-25.5s-25.5 11.4-25.5 25.5v272.6c0 14.1 11.4 25.5 25.5 25.5z" fill="#D8BA3D" p-id="9890"></path></svg>
              </div>
            </div>
          <play-sound ref="playSound"></play-sound>

        </div>
      </div>
    </div>

<!--  echartsDemo  -->
    <div id="myChart" :style="{width: '1400px', height: '300px', margin:'0 auto'}"></div>
  </div>
</template>

<script>
  import axios from "axios";
  import uploadFile from "../../components/uploadFile/uploadFile";
  import playSound from "../login/playSound";
  import slider from "../../components/slider/slider"
  export default {
    name: 'user',
    components: {
      uploadFile,
      playSound,
      slider
    },
    data() {
      return {
        activeIndex: '1',
        activeIndex2: '1',
        /**
         * do re mi fa so la xi
         */
        myData: [
        {
          "deviceType": "do",
          "rate": "1.00%"
        },
        {
          "deviceType": "re",
          "rate": "2.00%"
        },
        {
          "deviceType": "mi",
          "rate": "3.00%"
        },
        {
          "deviceType": "fa",
          "rate": "4.00%"
        },
        {
          "deviceType": "so",
          "rate": "5.00%"
        },
        {
          "deviceType": "la",
          "rate": "6.00%"
        },
        {
          "deviceType": "xi",
          "rate": "7.00%"
        }
      ],
        show:true
      }
    },
    mounted(){
      this.reversDiv()
      this.drawLine()
    },
    methods: {
      reversDiv(){
          let that = this
          let initDeg = 0
          setInterval(
            function(){
              if(initDeg==360){
                initDeg = 0
              }
              initDeg +=10
              if(that.$refs.music){
                that.$refs.music.style.transform = "rotate("+initDeg+"deg)"
              }
            },100
          )
      },
      handleSelect(key, keyPath) {
        // console.log(key, keyPath);
      },
      drawLine(){
        // 基于准备好的dom，初始化echarts实例
        let myChart = this.$echarts.init(document.getElementById('myChart'))
        // 绘制图表
        myChart.setOption({
          title: { text: '' },
          tooltip: {},
          xAxis: {
            data: this.myData.map(item=>item.deviceType)
          },
          yAxis:[
              {
                type: 'value',
                axisLabel: {
                  show: true,
                  interval: 'auto',
                  formatter: '{value} '
                },
                show: true
              }
          ],
          series: [{
            type: 'bar',
            data: this.myData.map(item=>item.rate.substr(0,1)),
            itemStyle:{
              normal:{color:'#0daaa6'}
            }
          }]
        });
      },
      getData(){

      },
      /**
       * 音乐播放器相关方法
       */
      playOrStop(){
         this.show = !this.show
          if(!this.show){
            this.playMusic()
          }else{
            this.stopMusic()
          }
      },
      /**
       * 播放触发方法
       */
      playMusic(){
        this.$refs['playSound'].playSound()
      },
      /**
       * 暂停触发方法
       */
      stopMusic(){
        this.$refs['playSound'].stopSound()
      },
      playLast(){
        this.$refs['playSound'].playLast()
      },
      playNext(){
        this.$refs['playSound'].playNext()
      }
    },
  }
</script>

<style  scoped="less">
  /* CSS */
  .flex__container {
    margin-top: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .flex__item{
    width: 1050px;
    height: 360px;
    background-image: linear-gradient(to right, rgb(122,230,136) , rgb(123,246,216));
    box-shadow:0 0 15px #000;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .sub_div{
    width: 585px;
    height: 206px;
    background-image: linear-gradient(to right, rgb(189,245,207) , rgb(189,250,233));
    box-shadow:0 0 15px #000;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }
  .player_div{
    width: 50%;
    cursor:pointer;
    display: flex;
    justify-content: space-around;
    align-items: center;
  }
  .slider{
    width: 400px;
    margin: 0 auto;
  }
  .music_icon{
    width: 50px;
    height: 50px;
    margin-bottom: 20px;
  }


</style>
